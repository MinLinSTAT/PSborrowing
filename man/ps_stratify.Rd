% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ps_divide.R
\name{ps_stratify}
\alias{ps_stratify}
\title{Stratify patients by propensity score}
\usage{
ps_stratify(object, num_strata, trim = TRUE, control_only = FALSE, ...)
}
\arguments{
\item{object}{A \code{combined_trials} object containing estimated propensity scores.}

\item{num_strata}{Number of strata to divide the reference PS distribution into.}

\item{trim}{Logical. If \code{TRUE}, trims external patients whose PS fall outside the range defined by the strata.}

\item{control_only}{Logical. If \code{TRUE}, defines strata based only on current controls; otherwise, uses all current patients.}

\item{...}{Reserved for future use.}
}
\value{
An object of class \code{ps_stratified}, which is a modified \code{combined_trials} object with a new \code{stratum} column and stratification metadata in the attributes.
}
\description{
Divides patients into equally sized strata based on their propensity scores (PS),
using current patients (or current controls only) as reference. Optionally trims
external patients whose PS fall outside the reference range.
}
